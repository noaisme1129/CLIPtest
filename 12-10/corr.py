import matplotlib.pyplot as plt

# Reproduced data
iterations = list(range(1, 31))
corr_lr_val = [
    -0.7132365609603252, -0.680096764056343, -0.7034328282071636, -0.7009477155228707,
    -0.7097722044590371, -0.7021057297104083, -0.6992548613205972, -0.6580470007878668,
    -0.6776894315405967, -0.7062534721609068, -0.705388466916969, -0.6553114882709627,
    -0.709625819502066, -0.6934766251371691, -0.6766843405030374, -0.6957427626868956,
    -0.6832895240782269, -0.7180893893671931, -0.676134123323623, -0.6983474625929659,
    -0.6682816112901069, -0.6677529299622735, -0.6975461407259044, -0.7031094501934625,
    -0.6823538459455616, -0.6650316491532972, -0.652723183960968, -0.684516332823805,
    -0.7103696047847672, -0.698440807210869
]

corr_lr_test = [
    -0.903637075773011, -0.9443620510273908, -0.9417578954834784, -0.9114816132262888,
    -0.9000338641142193, -0.934026086691319, -0.932132715662935, -0.902738968684434,
    -0.9262125045958116, -0.9356938070418691, -0.9117412615868073, -0.9284599154909507,
    -0.9058651176375595, -0.9490758223558065, -0.928687600560585, -0.9351519796911731,
    -0.9075929311335784, -0.9179259196353893, -0.9187734298177205, -0.9157459048355948,
    -0.9199604184408321, -0.9262887979156125, -0.9338325095175716, -0.9294477749479135,
    -0.9069655849891209, -0.9180838185220284, -0.8916882315291754, -0.9252617574668655,
    -0.9332707522319241, -0.95362646605391
]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(iterations, corr_lr_val, label="Validation Correlation", marker="o")
plt.plot(iterations, corr_lr_test, label="Test Correlation", marker="s")

plt.title("Correlation Coefficients between the lr and both the Val Accuracy and Test Accuracy")
plt.xlabel("Reproduce times")
plt.ylabel("Pearson Correlation Coefficient")
plt.legend()
plt.savefig('./results/correlation.png')
plt.grid(True)
plt.tight_layout()
plt.show()